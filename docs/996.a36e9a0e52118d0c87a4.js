"use strict";(self.webpackChunkmastermind=self.webpackChunkmastermind||[]).push([[996],{996:(e,o,t)=>{t.r(o),t.d(o,{default:()=>h});var n=t(34),r=t(293);const s={parser:function(e,o,t){const n=JSON.parse(e),r=n[n.method];return n.method===o&&t(r),r},toObjJson:function(e,o){const t={method:o};return t[o]=e,JSON.stringify(t)}};const c=function(e){return{playerMove:o=>{e.aiMove(o)}}};var a=t(363);function h(e,o,t,h){return new Promise(((i,u)=>{const l=(0,n.Z)(t),m=t.color,f=t.sh||e.location.href;l.on("socket_open",(()=>{const t=e.location.search,n=new URLSearchParams(t),s=new URL(f);s.search=n,s.searchParams.delete("wh"),s.searchParams.delete("sh"),s.searchParams.set("color",l.getOtherColor(m)),s.searchParams.set("currentMode","net");const c=(0,r.Z)(s.toString(),o.querySelector(".qrcode"));l.on("socket_close",(()=>{(0,a.ew)(c)}))}));try{l.connect(e.location.hostname)}catch(e){u(e)}l.on("open",(()=>{const n=h(e,o,t),r=c(n);l.on("recv",(e=>{for(const[o,t]of Object.entries(r))s.parser(e,o,t)}));for(const[e,o]of Object.entries(r))n.on(e,(o=>l.sendMessage(s.toObjJson(o,e))));i(n)}))}))}}}]);